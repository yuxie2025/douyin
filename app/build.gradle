apply plugin: 'com.android.application'
apply plugin: 'org.greenrobot.greendao'

def androidCf = rootProject.ext.android

greendao {
    schemaVersion 2
    daoPackage androidCf.applicationId + ".greendao"
    targetGenDir 'src/main/java'
}

android {
    compileSdkVersion androidCf.compileSdkVersion
    buildToolsVersion androidCf.buildToolsVersion
    defaultConfig {
        applicationId androidCf.applicationId
        minSdkVersion androidCf.minSdkVersion
        targetSdkVersion androidCf.targetSdkVersion
        versionCode androidCf.versionCode
        versionName androidCf.versionName
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
        multiDexEnabled true

        //使用butterknife:7.0.1需要添加,如下配置必须放在主模块中
        javaCompileOptions { annotationProcessorOptions { includeCompileClasspath = true } }

        //配置支持java 1.8
        compileOptions {
            targetCompatibility JavaVersion.VERSION_1_8
            sourceCompatibility JavaVersion.VERSION_1_8
        }

        //点9图出现问题解决方法
        aaptOptions {
            cruncherEnabled = false
            useNewCruncher = false
        }

        manifestPlaceholders = [
                JPUSH_PKGNAME           : androidCf.applicationId,
                JPUSH_APPKEY            : "425522f68290bf67f1f390c9", //JPush上注册的包名对应的appkey.
                JPUSH_CHANNEL           : "developer-default", //暂时填写默认值即可.
                UMENG_APPKEY            : "5a4ae7c0b27b0a3aab000044",//友盟
                UMENG_CHANNEL           : "Channel ID",//友盟
                "com.amap.api.v2.apikey": "caa67d9f01219028370158753e1efce0",//设置高德Key
        ]

//        ndk {
//            // 设置支持的SO库架构
//            abiFilters "armeabi", "armeabi-v7a", "arm64-v8a", "mips", "mips64", "X86", "X86_64"
//        }
    }

    //mvvp需要申明的地方
    dataBinding {
        enabled true
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    //Android 6.0不再支持 Apache HTTP client 使用许添加
    useLibrary 'org.apache.http.legacy'

    dependencies {
        compile fileTree(dir: 'libs', include: ['*.jar'])
        androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {
            exclude group: 'com.android.support', module: 'support-annotations'
        })

        def dependenciesCf = rootProject.ext.dependencieslib
        api dependenciesCf.annotations

        testCompile 'junit:junit:4.12'
        /*picasso图片缓存架包*/
        compile 'com.squareup.picasso:picasso:2.5.1'

        /*glide图片缓存架包*/
//        compile 'com.github.bumptech.glide:glide:3.5.2'
//        compile 'com.android.support:support-v4:25.3.1'

        /*Rxjava框架*/
//        compile 'io.reactivex.rxjava2:rxjava:2.0.4'

        /*Retrofit2.0框架*/
//        compile 'com.squareup.retrofit2:retrofit:2.0.2'
//        compile 'com.squareup.retrofit2:converter-gson:2.0.2'
//        compile 'com.squareup.retrofit2:adapter-rxjava:2.0.2'
//        compile 'com.squareup.okhttp3:logging-interceptor:3.2.0'

        //JSOUP 解析html使用
        compile 'org.jsoup:jsoup:1.10.2'

        compile 'com.alibaba:fastjson:1.2.23'
        compile 'httpcomponents-httpcore:httpcore:4.0-alpha6'

        compile 'org.greenrobot:greendao:3.2.2' // add library
        compile project(path: ':baselib')

//        compile project(path: ':dfu')

        // The DFU Library is imported automatically from jcenter:
//        implementation 'no.nordicsemi.android:dfu:1.6.1'

        compile files('libs/sun.misc.BASE64Decoder.jar')

        implementation 'com.android.support.constraint:constraint-layout:1.0.2'
//        compile project(path: ':apkupdatelib')

        //将最新的版本改为当前版本号，例如2.3.1(报错就填写固定的版本号)
        compile 'com.github.hotchemi:permissionsdispatcher:2.3.1'
        annotationProcessor 'com.github.hotchemi:permissionsdispatcher-processor:2.3.1'

    }
}